{% extends "base-no-fluid.html" %}
{% block extrahead %}
    <style>
        input, select {
            width:80%;
        }
    </style>
{% endblock %}
{% block header %}
    <h1 class="text-logo pull-left" id="title" style="color:#666;text-align: left;"><span style="color:#333;">keybucket | </span>login</h1>
{% endblock %}

{% block content %}
<div class="container" style="text-align: left;">
<div class="row">
        <div class="span5 well" style="min-height:200px;">
            <img src="{{ MEDIA_URL }}img/twitter.png">
            <img src="{{ MEDIA_URL }}img/facebook.png">
            <img src="{{ MEDIA_URL }}img/google.png">
            {% if last_selected_idp %}
            <a href="/auth/login?idp={{ last_selected_idp }}">Last IdP</a>
            {% endif %}
            <br><br>
            <p>Use this if you have an existing identity in a trusted identiy
                provider and want to publish <em>trusted keys</em>.</p>
            <form class="form-inline" action="{% url keybucket.auth.views.login %}" method="GET">
                <select id="idp" name="idp">
                    <option value="" disabled="disabled" selected="selected">Select your identity provider</option>
                    {% for url, idp in available_idps %}
                        <option value="{{url}}">{{idp.0}}</option>
                    {% endfor %}
                </select>
                <input type="submit" value="Select"/>
            </form>
        </div>
    <div class="span1" style="border-left: 1px solid silver;"></div>
    <div class="span6 well" style="min-height:200px;">
        <p>Use this if you have signed up for a <em>keybucket account</em> which
        provides a quick and easy way to publish untrusted keys.</p>
        <form class="form-inline" action="{% url keybucket.auth.views.login %}" method="GET">
            {{ form.as_p }}
        </form>
        <p><a href="{% url registration.views.register %}">sign up</a></p>
    </div>
</div>
</div>

{% endblock %}